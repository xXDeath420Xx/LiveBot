<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command & Web Dashboard Guide - CertiFried Announcer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/dashboard-style.css?v=14.0.0">
    <style>
        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-size: 1rem; /* Further reduced base font size */
            line-height: 1.5; /* Further reduced line spacing */
            background-color: #1a1a2e; /* Very dark background */
            color: #e0e0e0; /* Brighter light text color */
        }
        .page-header h1 {
            font-size: 2.2rem; /* Further reduced main title */
            line-height: 1.1;
            color: #ffffff; /* White for main title */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Subtle text shadow for depth */
        }
        .page-header p.lead {
            font-size: 1.1rem; /* Further reduced lead paragraph */
            line-height: 1.5;
            color: #c0c0c0; /* Lighter gray for lead paragraph */
            margin-bottom: 0.6rem; /* Further reduced margin */
        }
        .important-notice {
            font-size: 1rem; /* Further reduced font size */
            line-height: 1.5;
            color: #1a1a1a; /* Dark text for contrast on light background */
            font-weight: 700;
            margin-top: 0.8rem; /* Further reduced margin */
            margin-bottom: 0.8rem; /* Further reduced margin */
            background-color: #ffb86c; /* Vibrant orange background */
            padding: 0.6rem 0.8rem; /* Further reduced padding */
            border-radius: 0.3rem;
            display: block;
            box-shadow: 0 0.08rem 0.15rem rgba(0, 0, 0, 0.2); /* Subtle shadow */
        }
        .important-notice p {
            margin-bottom: 0.3rem; /* Further reduced space between paragraphs within the notice */
            line-height: 1.4; /* Further tighter line height */
        }
        .important-notice p:last-child {
            margin-bottom: 0;
        }
        .important-notice strong {
            color: #1a1a1a;
        }
        .important-notice .fa-info-circle,
        .important-notice .fa-clock {
            color: #1a1a1a;
            font-size: 1.1rem; /* Further reduced icon size */
            margin-right: 0.3rem; /* Further reduced margin */
        }
        .content-card {
            background-color: #1f2235;
            border-radius: 0.5rem; /* Further reduced border-radius */
            box-shadow: 0 0.15rem 0.3rem rgba(0, 0, 0, 0.3); /* Further reduced shadow */
            padding: 1.5rem; /* Further reduced padding */
            margin-bottom: 1rem; /* Further reduced space between cards */
        }
        .content-card h2 {
            font-size: 2rem; /* Further reduced section titles */
            margin-bottom: 1.2rem; /* Further reduced margin */
            color: #8be9fd;
            line-height: 1.2;
            border-bottom: 1px solid #3a3f5a; /* Thinner separator */
            padding-bottom: 0.4rem; /* Further reduced padding */
        }
        .command-section h4,
        .dashboard-info h4 {
            margin-top: 1.5rem; /* Further reduced margin */
            margin-bottom: 0.8rem; /* Further reduced margin */
            color: #bd93f9;
            font-size: 1.5rem; /* Further reduced sub-headings */
            line-height: 1.2;
        }
        .command-list .list-group-item {
            display: flex;
            flex-wrap: wrap;
            align-items: flex-start;
            padding: 0.6rem 1rem; /* Further reduced padding */
            border-left: 3px solid transparent; /* Thinner border */
            transition: all 0.3s ease-in-out;
            background-color: #2a2d40;
            border-color: #3a3f5a;
            margin-bottom: 0.3rem; /* Further reduced space between list items */
            border-radius: 0.3rem;
        }
        .command-list .list-group-item:hover {
            background-color: #3a3f5a;
            border-left-color: #ff79c6;
            transform: translateX(3px); /* Further reduced movement on hover */
        }
        .command-list .list-group-item strong {
            flex-basis: 160px; /* Further reduced width for command name */
            margin-right: 1.2rem; /* Further reduced margin */
            color: #50fa7b;
            font-weight: 800;
            font-size: 1.05rem; /* Smaller command names */
        }
        .command-list .command-description {
            flex-grow: 1;
            margin-bottom: 0;
            color: #f8f8f2;
            font-size: 0.95rem; /* Smaller description font */
            line-height: 1.5;
        }
        .perm-badge {
            font-size: 0.75em; /* Smaller badge text */
            padding: 0.25em 0.6em; /* Reduced padding */
            border-radius: 0.2rem;
            margin-left: auto;
            white-space: nowrap;
            font-weight: 700;
            text-transform: uppercase;
        }
        .perm-mod { background-color: #ffb86c; color: #333; }
        .perm-admin { background-color: #ff5555; color: #ffffff; }
        .perm-user { background-color: #6272a4; color: #ffffff; }
        .dashboard-info p {
            margin-bottom: 0.6rem; /* Reduced margin */
            line-height: 1.6;
            color: #f8f8f2;
        }
        .dashboard-info ul,
        .dashboard-info ol {
            list-style-type: disc;
            margin-left: 20px; /* Reduced margin */
            margin-bottom: 0.8rem; /* Reduced margin */
            color: #f8f8f2;
        }
        .dashboard-info ol li,
        .dashboard-info ul li {
            margin-bottom: 0.4rem; /* Reduced margin */
            line-height: 1.5;
        }
        .dashboard-info a {
            color: #8be9fd;
            text-decoration: none;
            font-weight: 600;
        }
        .dashboard-info a:hover {
            text-decoration: underline;
            color: #ff79c6;
        }
        hr {
            border-top: 1px solid #44475a;
            opacity: 0.8;
            margin-top: 0.8rem; /* Reduced margin */
            margin-bottom: 0.8rem; /* Reduced margin */
        }
        /* Icon colors - adjusted for better visibility on dark theme */
        .fa-terminal { color: #8be9fd !important; }
        .fa-star { color: #ffb86c !important; }
        .fa-user-friends { color: #50fa7b !important; }
        .fa-paint-brush { color: #bd93f9 !important; }
        .fa-rocket { color: #ff5555 !important; }
        .fa-globe { color: #50fa7b !important; }

        /* Styles for collapsible sections */
        .collapse-toggle {
            background: none;
            border: none;
            color: inherit;
            text-align: left;
            padding: 0;
            width: 100%;
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 1.5rem; /* Match h4 font size */
            font-weight: 700;
            color: #bd93f9; /* Match h4 color */
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }
        .collapse-toggle:hover {
            color: #ff79c6; /* Pink hover for links */
        }
        .collapse-toggle .fas {
            margin-right: 0.5rem;
            transition: transform 0.3s ease;
        }
        .collapse-toggle[aria-expanded="true"] .fa-chevron-down {
            transform: rotate(180deg);
        }
        .collapse-toggle[aria-expanded="false"] .fa-chevron-down {
            transform: rotate(0deg);
        }
        .collapse-content {
            padding-left: 1.5rem; /* Indent content slightly */
            border-left: 2px solid #3a3f5a; /* Visual line for collapsed content */
            margin-left: 0.5rem;
        }
        .command-section hr {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .collapse-summary {
            font-size: 0.95rem; /* Match description font size */
            color: #c0c0c0; /* Lighter gray for summary */
            margin-top: -0.5rem; /* Pull up closer to button */
            margin-bottom: 0.5rem; /* Space below summary */
            padding-left: 2rem; /* Align with indented content */
        }
    </style>
</head>
<body>
<%- include('partials/header') %>
<main class="page-container">
    <div class="page-header">
        <h1><i class="fas fa-book me-2"></i>Command & Web Dashboard Guide</h1>
        <p class="lead">Welcome to the comprehensive guide for the CertiFried Announcer bot. Here you'll find detailed information on all available slash commands and how to effectively use the Web Dashboard for managing your server's announcements.</p>
    </div>

    <div class="row g-4">
        <div class="col-lg-6">
            <div class="content-card">
                <h2 class="mb-4"><i class="fas fa-terminal me-2"></i>Bot Commands Reference</h2>
                <div class="important-notice">
                    <p><i class="fas fa-info-circle me-2"></i><strong>Permissions:</strong> Most commands require `Manage Server` permissions, unless explicitly noted.</p>
                    <p><i class="fas fa-clock me-2"></i><strong>Update Frequency:</strong> Live streams are checked every 3 minutes, and team information updates every 15 minutes.</p>
                </div>
                <p>Below is a categorized list of all slash commands available through the bot. Each command is designed to help you manage your server's live stream announcements efficiently.</p>

                <div class="command-section">
                    <button class="collapse-toggle w-100" type="button" data-bs-target="#coreSetupCollapse" aria-controls="coreSetupCollapse">
                        <i class="fas fa-star me-2"></i> Core Setup <i class="fas fa-chevron-down float-end"></i>
                    </button>
                    <p class="collapse-summary">Essential commands for bot setup and fundamental management.</p>
                    <div class="collapse" id="coreSetupCollapse">
                        <hr>
                        <p>These commands are essential for the initial setup and fundamental management of the bot within your Discord server.</p>
                        <ul class="list-group list-group-flush command-list">
                            <li class="list-group-item"><strong>/setchannel</strong><p class="command-description">Sets the default channel where all live announcements will be posted.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/setliverole</strong><p class="command-description">Sets a role to be given to linked Discord users when they go live.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/customize-bot</strong><p class="command-description">Changes the bot's default nickname or announcement avatar for this server.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/setup-requests</strong><p class="command-description"><strong>(Admin Only)</strong> Creates a panel for members to request their own streams.</p><span class="perm-badge perm-admin">Admin</span></li>
                        </ul>
                    </div>
                </div>

                <div class="command-section">
                    <button class="collapse-toggle w-100" type="button" data-bs-target="#streamerManagementCollapse" aria-controls="streamerManagementCollapse">
                        <i class="fas fa-user-friends me-2"></i> Streamer Management <i class="fas fa-chevron-down float-end"></i>
                    </button>
                    <p class="collapse-summary">Manage individual streamers and monitor their live status.</p>
                    <div class="collapse" id="streamerManagementCollapse">
                        <hr>
                        <p>Manage individual streamers and monitor their live status with these commands.</p>
                        <ul class="list-group list-group-flush command-list">
                            <li class="list-group-item"><strong>/addstreamer</strong><p class="command-description">Adds a streamer to one or more channels with shared settings.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/removestreamer</strong><p class="command-description">Removes a streamer from this server's notification list and purges their announcements.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/liststreamers</strong><p class="command-description">Shows all streamers being tracked on this server and their status.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/check-live</strong><p class="command-description">Instantly lists all currently live streamers for this server.</p><span class="perm-badge perm-mod">Moderator</span></li>
                        </ul>
                    </div>
                </div>

                <div class="command-section">
                    <button class="collapse-toggle w-100" type="button" data-bs-target="#fineTuningCollapse" aria-controls="fineTuningCollapse">
                        <i class="fas fa-paint-brush me-2"></i> Fine-Tuning & Customization <i class="fas fa-chevron-down float-end"></i>
                    </button>
                    <p class="collapse-summary">Customize the appearance and messaging of your announcements.</p>
                    <div class="collapse" id="fineTuningCollapse">
                        <hr>
                        <p>These commands allow you to customize the appearance and messaging of your announcements.</p>
                        <ul class="list-group list-group-flush command-list">
                            <li class="list-group-item"><strong>/customize-streamer</strong><p class="command-description"><strong>The power tool!</strong> Sets a unique webhook name, avatar, or message for a streamer in a *specific channel*.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/customize-channel</strong><p class="command-description">Sets a default webhook name/avatar for *all* announcements in a specific channel.</p><span class="perm-badge perm-mod">Moderator</span></li>
                        </ul>
                    </div>
                </div>

                <div class="command-section">
                    <button class="collapse-toggle w-100" type="button" data-bs-target="#bulkTeamActionsCollapse" aria-controls="bulkTeamActionsCollapse">
                        <i class="fas fa-rocket me-2"></i> Bulk & Team Actions <i class="fas fa-chevron-down float-end"></i>
                    </button>
                    <p class="collapse-summary">Efficiently manage multiple streamers and integrate with Twitch Teams.</p>
                    <div class="collapse" id="bulkTeamActionsCollapse">
                        <hr>
                        <p>For larger communities, these commands provide efficient ways to manage multiple streamers and integrate with Twitch Teams.</p>
                        <ul class="list-group list-group-flush command-list">
                            <li class="list-group-item"><strong>/addteam</strong><p class="command-description"><strong>(One-Time Add)</strong> Adds all members of a Twitch Team to a specific channel.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/removeteam</strong><p class="command-description"><strong>(One-Time Remove)</strong> Removes all members of a Twitch Team from a specific channel and purges their announcements.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/subscribe-team</strong><p class="command-description"><strong>(Automated)</strong> Automatically keeps a channel synced with a Twitch Team, adding and removing members.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/unsubscribe-team</strong><p class="command-description">Stops the automatic syncing for a team on a channel.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/importteamcsv</strong><p class="command-description"><strong>(Sync)</strong> Syncs a channel with a CSV, adding/updating members from the file and removing anyone not in it.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/massaddstreamer</strong><p class="command-description">Adds multiple streamers from the same platform at once.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/massremovestreamer</strong><p class="command-description">Removes multiple streamers and purges their announcements.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/importcsv</strong><p class="command-description">Adds or updates streamers in bulk by uploading a `.csv` file.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/exportcsv</strong><p class="command-description">Exports all tracked streamers on this server to a `.csv` file.</p><span class="perm-badge perm-mod">Moderator</span></li>
                            <li class="list-group-item"><strong>/clearstreamers</strong><p class="command-description"><strong>(Admin Only)</strong> Removes <strong>ALL</strong> streamers and purges <strong>ALL</strong> announcements from the server.</p><span class="perm-badge perm-admin">Admin</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="content-card dashboard-info">
                <h2 class="mb-4"><i class="fas fa-globe me-2"></i>Web Dashboard: Your Control Panel</h2>
                <p>For a more intuitive and visual management experience, the CertiFried Announcer offers a powerful <strong><a href="https://certifriedannouncer.online" target="_blank">Web Dashboard</a></strong>. This dashboard allows you to configure and manage all aspects of the bot without needing to use Discord commands.</p>

                <h4>How to Access and Use the Web Dashboard:</h4>
                <ol>
                    <li><strong>Access:</strong> Navigate to <a href="https://certifriedannouncer.online" target="_blank">https://certifriedannouncer.online</a> in your web browser.</li>
                    <li><strong>Login:</strong> You will be prompted to log in using your Discord account. Ensure you log in with an account that has administrative or "Manage Server" permissions on the Discord server you wish to manage.</li>
                    <li><strong>Select Your Server:</strong> After logging in, you'll see a list of Discord servers where you have appropriate permissions. Select the server you want to configure.</li>
                    <li><strong>Dashboard Features:</b>
                        <ul>
                            <li><strong>Overview:</strong> Get a quick glance at your server's current bot configuration, tracked streamers, and active announcements.</li>
                            <li><strong>Streamer Management:</strong> Easily add, remove, and edit individual streamer settings, including custom messages, webhooks, and channels.</li>
                            <li><strong>Channel Configuration:</strong> Set default announcement channels, customize webhook appearances for specific channels, and manage live roles.</li>
                            <li><strong>Team Syncing:</b> Configure and monitor Twitch Team integrations, allowing for automatic management of large groups of streamers.</li>
                            <li><strong>Bot Customization:</strong> Adjust the bot's global settings for your server, suchs as its default name and avatar for announcements.</li>
                            <li><strong>Request Panel:</strong> Manage streamer request panels, if enabled, allowing users to submit their own streams for tracking.</li>
                        </ul>
                    </li>
                    <li><strong>Save Changes:</strong> Remember to save any changes you make on the dashboard. Most changes take effect immediately or within the bot's next polling cycle.</li>
                </ol>
                <p>The Web Dashboard is designed to provide a user-friendly interface for even the most complex configurations, making bot management efficient and straightforward.</p>
            </div>
        </div>
    </div>
</main>
<%- include('partials/footer') %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.collapse-toggle').forEach(button => {
            button.addEventListener('click', function() {
                const targetId = this.dataset.bsTarget;
                const targetElement = document.querySelector(targetId);

                if (targetElement) {
                    const collapseInstance = bootstrap.Collapse.getOrCreateInstance(targetElement);
                    collapseInstance.toggle();
                }
            });
        });
    });
</script>
</body>
</html>
