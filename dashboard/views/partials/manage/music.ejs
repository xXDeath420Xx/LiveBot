<div class="row">
    <div class="col-12">
        <h3>Music</h3>
        <p class="text-muted">Configure the music playback features for your server.</p>
    </div>
</div>

<div class="content-card mt-4">
    <div class="card-body">
        <h4 class="card-title">Music Bot Configuration</h4>
        <p class="card-subtitle mb-3 text-muted">Set up the default behavior for the music bot.</p>
        <form action="/manage/<%= guild.id %>/music/config" method="POST">
            <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" id="musicEnabled" name="enabled" <%= musicConfig && musicConfig.enabled ? 'checked' : '' %>>
                <label class="form-check-label" for="musicEnabled">Enable Music System</label>
                <div class="form-text">Turn on or off all music bot functionality for this server.</div>
            </div>

            <div class="mb-3">
                <label for="musicDjRole" class="form-label">DJ Role</label>
                <select class="form-select" id="musicDjRole" name="djRoleId">
                    <option value="">Select a DJ role (optional)</option>
                    <% roles.forEach(role => { %>
                        <option value="<%= role.id %>" <%= musicConfig && musicConfig.dj_role_id === role.id ? 'selected' : '' %>><%= role.name %></option>
                    <% }) %>
                </select>
                <div class="form-text">Users with this role can manage the music queue and playback.</div>
            </div>
            <button type="submit" class="btn btn-primary">Save Music Settings</button>
        </form>
    </div>
</div>

<div class="content-card mt-4">
    <div class="card-body">
        <h4 class="card-title">AI DJ Configuration</h4>
        <p class="card-subtitle mb-3 text-muted">Configure the AI DJ for your server.</p>
        <form action="/manage/<%= guild.id %>/music/dj" method="POST">
            <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" id="djEnabled" name="djEnabled" <%= musicConfig && musicConfig.dj_enabled ? 'checked' : '' %>>
                <label class="form-check-label" for="djEnabled">Enable AI DJ</label>
                <div class="form-text">Let the bot act as a DJ, providing commentary between songs.</div>
            </div>

            <div class="mb-3">
                <label for="djVoice" class="form-label">DJ Voice</label>
                <select class="form-select" id="djVoice" name="djVoice">
                    <option value="male" <%= musicConfig && musicConfig.dj_voice === 'male' ? 'selected' : '' %>>Male</option>
                    <option value="female" <%= musicConfig && musicConfig.dj_voice === 'female' ? 'selected' : '' %>>Female</option>
                </select>
                <div class="form-text">Select the voice for the AI DJ.</div>
            </div>
            <button type="submit" class="btn btn-primary">Save AI DJ Settings</button>
        </form>
    </div>
</div>